UNIT TESTS:
[X] basic.json
[X] collection.json
[ ] combinations.json
[ ] constant.json
[ ] fhirpath.json
[ ] fhirpath_numbers.json
[ ] fn_boundary.json
[ ] fn_empty.json
[ ] fn_extension.json
[X] fn_first.json
[X] fn_join.json
[ ] fn_oftype.json
[ ] fn_reference_keys.json
[X] foreach.json
[ ] logic.json
[X] union.json
[ ] validate.json // TODO(agw): read errors from deserializer
[X] view_resource.json
[X] where.json


let table_list = [{}];
let new_rows = null;

table_list.forEach(table => {
  new_rows = [];
  table.forEachRow((table_row)=> {
    rows.forEach(row => {
      new_rows.push(merge(table_row,row))
    })
  })
  table = new_rows;
});
return rows;